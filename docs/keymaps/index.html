<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<title data-react-helmet="true">Configuring your own keymap | BlueMicro nRF52 Keyboard Firmware</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Configuring your own keymap | BlueMicro nRF52 Keyboard Firmware"><meta data-react-helmet="true" name="description" content="To understand how to configure your keymap, you should first know what constitutes a keycode:"><meta data-react-helmet="true" property="og:description" content="To understand how to configure your keymap, you should first know what constitutes a keycode:"><meta data-react-helmet="true" property="og:url" content="http://bluemicro.jpconstantineau.com//docs/keymaps"><link data-react-helmet="true" rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAAAAABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAADzVwEA01UhAO6OXwDzUgcA+JZ6APjUxAD4n4IA81ECAOjo6AD35dcA81cCAPRXGwD4oX0A+c+6APNpMwDLn40A/fHnAPX19QD27+0A+unlANTBugD88+oA81MnAPJJAQD++PUA+dPAAP3p3QDzSQEA/e/lAPNLDADHk34A8kAKAL2vrAD96+AA+JhuAP7x6AD5qoYA81IBAP328wDzUhoA+a2GAPNVAQDyWAEA81gBAPJJAgD//v4A9GQqAPz08QD839EA8k8CAPWVZwDtWhUA7l4SAO1RBQD97uEAx2g6APenfwD+7uEA/efcAPJVAgD97eQA70gOAP7t5AD4zrcA/ePXAPiWbQD96d8A8kQJAOp1PgDXnooA9G0zAPnw7QD08vAA+rmgALd8ZwD4zrgA9GIpAPJKAQD5qIYA7V0fAORnNQDzUwEA2djYAPNWAQD87eYA81kBAPjOuQD+8OYA9fT0APBNAgDxNgkA/ezhAPVuMgD5sY8A4WcuAPmwkgD4lG0A81kCAMaUgADHlIAA////APJFCQDwUAMA8WMYAO/UywDtTwYA9X1LAPmxkADySyIAyJJ+ALWqpwDyVCoA0F0rAM1vQwDBmokA/uvdAOmFXwDxTgEA+KqDAPvj2wDzTgEAxV00APRlLAD25d4Awb28APF6RAD97OMA81QBAPFFAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZGRkZGRkEQgIEWRkZGRkZGRkZGRIRXFwN0p8ZGRkZGRkZGQSUDsdKBs7AW5kZGRkZGRkdCoKQyMkGyt5UmRkZGRkR2kDB2VXPE4sNSBkZGRkZAUXa11aNhYVOHVyZGRkZGQNfwtABiFBW0YpYmRkZGRkS1MpJzAtfnolVR5kZGRkZD8ACk0EZEmACmFtZGRkZGRWU01gQhg6XywrY2RkZGRkGXgiHG9zbBB2MQ9kZGRkZFRZalwfOQwaDmYUZGRkZGRkfSkpZRA+TFFeWGRkZGRkZHdnAD0JLiU0aGRkZGRkZGRkZDJPRDMCe2RkZGRkZGRkZGRkJhMvZGRkZGRkZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA="><link data-react-helmet="true" rel="canonical" href="http://bluemicro.jpconstantineau.com//docs/keymaps"><link rel="stylesheet" href="/styles.f8f5f2a3.css">
<link rel="preload" href="/styles.6557ea0b.js" as="script">
<link rel="preload" href="/runtime~main.5831d3fa.js" as="script">
<link rel="preload" href="/main.80f88402.js" as="script">
<link rel="preload" href="/1.a36e9b17.js" as="script">
<link rel="preload" href="/2.dc1ed3bb.js" as="script">
<link rel="preload" href="/60.bcfc445d.js" as="script">
<link rel="preload" href="/61.4dd3c485.js" as="script">
<link rel="preload" href="/935f2afb.816a7b7e.js" as="script">
<link rel="preload" href="/17896441.82252b82.js" as="script">
<link rel="preload" href="/e6970edc.fb9354e4.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="BlueMicro Logo"><strong class="navbar__title">BlueMicro nRF52 Keyboard Firmware</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="http://nrf52.jpconstantineau.com/docs/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">BlueMicro Hardware</a><a href="https://github.com/jpconstantineau/Community_nRF52_Arduino/wiki" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community nRF52 Arduino Support</a><a href="https://github.com/jpconstantineau/BlueMicro_BLE" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="BlueMicro Logo"><strong class="navbar__title">BlueMicro nRF52 Keyboard Firmware</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a href="http://nrf52.jpconstantineau.com/docs/" target="_blank" rel="noopener noreferrer" class="menu__link">BlueMicro Hardware</a></li><li class="menu__list-item"><a href="https://github.com/jpconstantineau/Community_nRF52_Arduino/wiki" target="_blank" rel="noopener noreferrer" class="menu__link">Community nRF52 Arduino Support</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/jpconstantineau/BlueMicro_BLE" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bluetooth_firmware">DIY Friendly</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/hardware">Supported Processors</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keyboards">Keyboards</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/features">Features Compared</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">How To</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools">Installing Tools</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/understand_gpios">Understand GPIOs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configure_hardware">Configuring hardware_config.h</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configure_keyboard">Configuring keyboard_config.h</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configure_keymap">Configuring keymap.h.cpp</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configure_combos">Configuring Advanced Features</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/keymaps">Configuring your own keymap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build">Building Firmware</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/flash">Flashing Firmware to your keyboard</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/add">Adding a new Keyboard</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/customize_BSP">Customizing Adafruit BSP</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Keycodes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keycodes_basic">Basic Keycodes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keycodes_extended">Extended Keycodes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keycodes/keycodes_media">Comsumer and Media</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keycodes/keycodes_modifiers">Toggles and One-Shot</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keycodes_firmware">Firmware-only Keycodes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/keycodes_hardware">Hardware-specific Keycodes</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tut_base">Basic setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tut_keycodes">Finding Keycodes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tut_layers">Layers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tut_adjust">Hidden Layers (tri-layers)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tut_modkeys">Modified Keys</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tut_oneshottoggle">One-Shot Toggles</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tut_taphold">Tap/Hold for Modifiers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tut_tapholdlayer">Tap/Hold for Layers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tut_spacecadet">Space Cadet</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tut_flashing">Flashing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tut_keymapswitch">Switching Keymaps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tut_macros">Macros</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Troubleshooting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/trouble/trouble_flash">Flashing/Uploading</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Contributing</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/style_guide">Documentation Style Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docsa">Contributing to BlueMicro_BLE</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Configuring your own keymap</h1></header><div class="markdown"><p>To understand how to configure your keymap, you should first know what constitutes a keycode:</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="keycodes"></a>Keycodes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#keycodes" title="Direct link to heading">#</a></h2><p>A single keycode field is made up of four different pieces of information:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="the-hid-keycode"></a>The HID Keycode<a aria-hidden="true" tabindex="-1" class="hash-link" href="#the-hid-keycode" title="Direct link to heading">#</a></h3><ul><li>this is what the key actually sends to the computer, e.g. &quot;KC_A&quot; for &quot;a&quot;</li><li>These conform with the USB HID standard and can be viewed in hid_keycodes.h</li><li>there are special keycodes defined in advanced_keycodes.h where a modifier is sent at the same time as the keycode.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="the-activation-method"></a>The activation method<a aria-hidden="true" tabindex="-1" class="hash-link" href="#the-activation-method" title="Direct link to heading">#</a></h3><p>This is how the key is activated. options are:</p><ul><li>PRESS: it is pressed.  This is the normal operation of a keyboard where a key will be sent, and kept in the HID report until the key is released.  If you want to use another activation method, use <strong>KC_NO</strong> in the standard PRESS to make sure that the standard activations don&#x27;t get sent to the computer.</li><li>MT_TAP: it is pressed and then released.  The key is sent as soon as the key is released.  </li><li>MT_HOLD: it is pressed and held.  The key is sent when the time limit expires.  The key is not repeated.  HOLD is useful for toggling modifiers or layers.</li><li>DT_TAP: it is pressed, released and not pressed again for DOUBLETAP_TIME_LIMIT. The keyboard will wait for the double tap time limit until the single tap key is sent.</li><li>DT_DOUBLETAP: it is pressed, released and tapped again within a certain time.  The keyboard will send the key as soon as a double tap is detected.
(DOUBLETAP_TIME_LIMIT duration (in ms) is defined in KeyStates.h)</li></ul><p>There is a difference between MT_TAP and DT_TAP:  The key difference is when the keycode is sent.  With MT, the keycode is sent as soon as the key is released.  With DT, the keycode is sent some time after the key is released: delay time is there to detect the double taps.</p><p>Note: if you receive repeated keypresses, check that you do not have PRESS, MT_TAP and DT_TAP are not all defined.<br>
It is recommended that you use one of the 3 methods and do not combine them:</p><ul><li>PRESS: key is sent with every HID report. The computer will automatically detect this and repeat the keycode until a HID report without the keycode is received. Default behaviour.  Note that if the computer loose connection with the keyboard, it will not receive the &quot;empty&quot; HID report and will start repeating the keypress.</li><li>MT_TAP/MT_HOLD: This adds a timer to the keyboard to detect when the key is being held.  When held, a different keycode can be sent.  For each activation state of this method, a single HID report will be sent and then immediately released.</li><li>DT_TAP/DT_DOUBLETAP: This adds a timer to  the keyboard to detect if the same key is pressed again within a given time period.  When double-tapped, a different keycode can be sent. For each activation state of this method, a single HID report will be sent and then immediately released.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="the-activation-duration"></a>The activation duration<a aria-hidden="true" tabindex="-1" class="hash-link" href="#the-activation-duration" title="Direct link to heading">#</a></h3><p>Once Activated, sending of the keycode can be sent at different times:</p><ul><li><p>Momentary (default): as long as the key is active the keycode will be sent in every HID report to the computer.  This is the normal operation of a keyboard. Note that if the computer loose connection with the keyboard, it will not receive the &quot;empty&quot; HID report and will keep repeating the keypress.</p></li><li><p>Toggle: The keycode will be sent in every HID report to the computer, as long as a key with the same keycode isn&#x27;t pressed. This is similar to how SHIFT and CAPS LOCK work.  However, this is done on the keyboard and can be applied to any modifier.
Toggle is useful with modifiers and layers.  You can toggle the key until the toggle keystroke is pressed again.</p></li><li><p>Oneshot: The keycode will be sent for a single HID report to the computer.  The keycode will be sent with the next non-null report to the computer (next keypress).  An an example, SHIFT key makes the next letter into a capital letter but no other one thereafter.  OneShot is useful for modifiers when a specific modifier should be sent along with the next key.  OneShot currently do not work for selecting layers.</p></li></ul><p>The activation duration can be defined in the following way:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">DURATION(HID keycode)</span></div></div></div></div></div><p>e.g.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">TG(KC_LSHIFT)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">OS(KC_LSHIFT)</span></div></div></div></div></div><p>The activation duration are included as part of the definition for a layer or a single key.  As such, it does not get </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="the-layer"></a>The layer<a aria-hidden="true" tabindex="-1" class="hash-link" href="#the-layer" title="Direct link to heading">#</a></h3><p>The Layer ID is needed to identify which layer the keypresses are being mapped to.  These map out to 0-15. </p><p>The three key pieces of information needed to define each key press are:</p><ul><li>Layer ID</li><li>activation method (default press &amp; repeat, tap, double-tap hold)</li><li>HID Keycode;  includes the activation duration modifier when needed (toggle, one shot)</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="configuration"></a>Configuration<a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuration" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="the-default-layer"></a>The default layer<a aria-hidden="true" tabindex="-1" class="hash-link" href="#the-default-layer" title="Direct link to heading">#</a></h3><p>The default layer is the layer which you will most often use. Generally this is the &quot;QWERTY&quot; Layer.
Here, you give the
HID Keycode and optionally the activation duration for the default method on the default layer
(currently PRESS and layer 0).</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">std::array&lt;std::array&lt;Key, MATRIX_COLS&gt;, MATRIX_ROWS&gt;  matrix {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">KEYMAP(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;i&gt;KEYCODE1&lt;/i&gt;, &lt;i&gt;KEYCODE2&lt;/i&gt;, &lt;i&gt;etc.&lt;/i&gt;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div></div></div><p>For example for the gherkin:</p><p>std::array&lt;std::array&lt;Key, MATRIX_COLS&gt;, MATRIX_ROWS&gt; matrix =
{KEYMAP(
KC_Q,    KC_W,    KC_E,    KC_R,    KC_T,    KC_Y,    KC_U,    KC_I,    KC_O,    KC_P,
KC_A,    KC_S,    KC_D,    KC_F,    KC_G,    KC_H,    KC_J,    KC_K,    KC_L,    KC_ESC,
KC_Z,    KC_X,    KC_C,    KC_V,    KC_SPC,  KC_BKSPC,KC_B,    KC_N,    KC_M,    KC_NO )};</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="further-layers"></a>Further layers<a aria-hidden="true" tabindex="-1" class="hash-link" href="#further-layers" title="Direct link to heading">#</a></h2><p>You can define layers in the same way as the default layer for any activation method and layer combo,
e.g. PRESS on layer 1 or MT_TAP for layer 0. Most of the time, you&#x27;ll only need press layers unless you use other activation methods a lot. You will need to add a tuple <strong> people won&#x27;t understand what a tuple is...</strong> of this layer using the addLayers function.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">uint32_t &lt;i&gt;LAYER_NAME&lt;/i&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    KEYMAP(&lt;i&gt;...&lt;/i&gt;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">for (int row = 0; row &lt; MATRIX_ROWS; ++row)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    for (int col = 0; col &lt; MATRIX_COLS; ++col)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        matrix[row][col].addActivation(&lt;i&gt;LAYER&lt;/i&gt;, &lt;i&gt;METHOD&lt;/i&gt;, &lt;i&gt;KEYCODE&lt;/i&gt;));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}  </span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="single-keys"></a>Single keys<a aria-hidden="true" tabindex="-1" class="hash-link" href="#single-keys" title="Direct link to heading">#</a></h2><p>You&#x27;ll most likely use this to configure keys with uncommon activation methods, e.g. DT_DOUBLETAP.  However, when using a remapping macro (KEYMAP), it is recommended to create a full matrix with KC_NO everywhere except for where the specific activation method is desired.  However, for keyboards with no need for the KEYMAP macro, you can use the specific row and column directly (instead of looping over each row/column as shown above).</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">matrix[&lt;i&gt;row&lt;/i&gt;][&lt;i&gt;col&lt;/i&gt;].addActivation(&lt;i&gt;LAYER&lt;/i&gt;, &lt;i&gt;METHOD&lt;/i&gt;, &lt;i&gt;KEYCODE&lt;/i&gt;);</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/jpconstantineau/BlueMicro_BLE/tree/documentation-docusaurus/documentation/docs/configuration_keymap.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/configure_combos"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Configuring Advanced Features</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/build"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Building Firmware Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#keycodes" class="table-of-contents__link">Keycodes</a><ul><li><a href="#the-hid-keycode" class="table-of-contents__link">The HID Keycode</a></li><li><a href="#the-activation-method" class="table-of-contents__link">The activation method</a></li><li><a href="#the-activation-duration" class="table-of-contents__link">The activation duration</a></li><li><a href="#the-layer" class="table-of-contents__link">The layer</a></li></ul></li><li><a href="#configuration" class="table-of-contents__link">Configuration</a><ul><li><a href="#the-default-layer" class="table-of-contents__link">The default layer</a></li></ul></li><li><a href="#further-layers" class="table-of-contents__link">Further layers</a></li><li><a href="#single-keys" class="table-of-contents__link">Single keys</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Getting Started</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/ecnCR9P" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCFpGp4hHe03nvF9c8_gF_jA" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/jpconstantineau/BlueMicro_BLE" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2021 Pierre Constantineau. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.6557ea0b.js"></script>
<script src="/runtime~main.5831d3fa.js"></script>
<script src="/main.80f88402.js"></script>
<script src="/1.a36e9b17.js"></script>
<script src="/2.dc1ed3bb.js"></script>
<script src="/60.bcfc445d.js"></script>
<script src="/61.4dd3c485.js"></script>
<script src="/935f2afb.816a7b7e.js"></script>
<script src="/17896441.82252b82.js"></script>
<script src="/e6970edc.fb9354e4.js"></script>
</body>
</html>